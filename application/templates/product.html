{% extends "layout.html" %}
{% block title %} Magical Products {% endblock %}
{% block body_content %}



<!--<section class="product-top-section">-->
<!--    <div class="product-heading">-->
<!--        <h1>Magical Products at your fingertips!!!</h1>-->
<!--    </div>-->

<!--    <div class="product-description">-->
<!--        <p>What you once imagined is now here for you to use!!</p>-->
<!--    </div>-->




<!--</section>-->

<section class="top-section"
        style="
            background-image: url('{{ img }}');
            height: 100vh;
            position: relative;
            top:0;
            max-width: 1500px;
            background-position: center center;
            background-attachment: fixed;
            background-size: cover;
            background-size: 100% 100%;
            background-repeat: no-repeat;
            font-family: 'Pattaya', sans-serif;
            color: white;">

        <div class="container pt-5" >
          <br>
          <br>
          <br>
          <br>
            <h1>{{ title_body }}</h1>
            <h4>{{ subtitle }}</h4>
        </div>
      </section>










<section class="product-mid-section">
{% if  'user_email'  in session %}
<br>
<br>
<section id ="product">
<br>
  <br>
<h2 style="text-align:center">Enchanted Holidays Presents Magical Products!!!</h2>
<br>
  <div id = "product-carousel-container">
  <div id="customer-feedback" class="carousel slide">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#customer-feedback" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#customer-feedback" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#customer-feedback" data-bs-slide-to="2" aria-label="Slide 3"></button>
  <button type="button" data-bs-target="#customer-feedback" data-bs-slide-to="3" aria-label="Slide 4"></button>
  <button type="button" data-bs-target="#customer-feedback" data-bs-slide-to="4" aria-label="Slide 5"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{{url_for('static', filename = 'images/magical_wand.jpeg') }}" class="d-block w-100" alt="flying carpet">
      <div class="carousel-caption d-none d-md-block">
        <h5 class ="word"  style="background-color: rgba(0, 0, 0, 0.5); color: white;">Magical Wand</h5>
        <p class="word"  style="background-color: rgba(0, 0, 0, 0.5); color: white;">With a flick of this magical wand, your wildest dreams come true in a swirl of sparkle and wonder!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{{url_for('static', filename = 'images/product-magic bottle.jpeg') }}" class="d-block w-100" alt="diving with ariel">
      <div class="carousel-caption d-none d-md-block">
        <h5 class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Magic Potion</h5>
        <p class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Sip the magic potion that holds the power to heal anything, restoring joy and strength in every drop!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{{url_for('static', filename = 'images/product_clothes.jpeg') }}" class="d-block w-100" alt="party with trolls">
      <div class="carousel-caption d-none d-md-block">
        <h5 class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Spectacular one dress- no mess!</h5>
        <p class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Slip into the enchanted dress that transforms to match any occasion, shifting styles with a touch of magic!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{{url_for('static', filename = 'images/product_suitcase.jpeg') }}" class="d-block w-100" alt="snowman">
      <div class="carousel-caption d-none d-md-block">
        <h5 class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">All you can pack Suitcase!!</h5>
        <p class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Discover the all-you-can-pack suitcase that magically fits everything you needâ€”no matter how much you bring!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{{url_for('static', filename = 'images/product_carpet.jpeg') }}" class="d-block w-100" alt="beach">
      <div class="carousel-caption d-none d-md-block">
        <h5 class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Magical Carpet</h5>
        <p class="word" style="background-color: rgba(0, 0, 0, 0.5); color: white;">Ride the magic carpet that whisks you away to any destination your heart desires, in a blink of wonder!</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#customer-feedback" data-bs-slide="3000">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#customer-feedback" data-bs-slide="3000">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<section>
  <br>
  <br>
  <h2 style="text-align:center">Choose one of our mesmerizing products or all of them ðŸ˜‰!!!</h2>
  <br>
  <br>
{% for product in products %}
  {% if loop.index0 % 3 == 0 %}
    <div class="row g-4 justify-content-center mb-5">
  {% endif %}

  <div class="col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center">
    <div class="card" style="width: 18rem;">
      <img class="card-img-top" src="{{ url_for('static', filename='images/' + product.productimage) }}" alt="{{ product.productname }}">
      <div class="card-body">
        <h5 class="card-title">{{ product.productname }}</h5>
        <p class="card-text">Â£{{ product.productprice }}</p>
        <a href="{{ url_for('add_to_cart', product_id=product.productid) }}" class="btn btn-primary">Buy</a>
      </div>
    </div>
  </div>

  {% if loop.index % 3 == 0 or loop.last %}
    </div>
  {% endif %}
{% endfor %}

<!--&lt;!&ndash;    <div class="col-md-4 d-flex justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="card" style="width: 18rem;">&ndash;&gt;-->
<!--&lt;!&ndash;        <img class="card-img-top" src="{{url_for('static', filename='images/magical_wand.jpeg') }}" alt="Magic Wand">&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="card-body">&ndash;&gt;-->
<!--&lt;!&ndash;          <h5 class="card-title">Magic Wand</h5>&ndash;&gt;-->
<!--&lt;!&ndash;          <p class="card-text">Â£50</p>&ndash;&gt;-->
<!--&lt;!&ndash;          <a href="#" class="btn btn-primary">Buy</a>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    <div class="col-md-4 d-flex justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="card" style="width: 18rem;">&ndash;&gt;-->
<!--&lt;!&ndash;        <img class="card-img-top" src="{{url_for('static', filename='images/product-magic bottle.jpeg') }}" alt="Magic Potion">&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="card-body">&ndash;&gt;-->
<!--&lt;!&ndash;          <h5 class="card-title">Magic Potion</h5>&ndash;&gt;-->
<!--&lt;!&ndash;          <p class="card-text">Â£100</p>&ndash;&gt;-->
<!--&lt;!&ndash;          <a href="#" class="btn btn-primary">Buy</a>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->

<!--&lt;!&ndash;  <br>&ndash;&gt;-->

<!--&lt;!&ndash;  &lt;!&ndash; Second Row: 2 Cards &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <div class="row g-4 justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="col-md-4 d-flex justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="card" style="width: 18rem;">&ndash;&gt;-->
<!--&lt;!&ndash;        <img class="card-img-top" src="{{url_for('static', filename='images/product_clothes.jpeg') }}" alt="Magic Dress">&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="card-body">&ndash;&gt;-->
<!--&lt;!&ndash;          <h5 class="card-title">One dress - No mess</h5>&ndash;&gt;-->
<!--&lt;!&ndash;          <p class="card-text">Â£100</p>&ndash;&gt;-->
<!--&lt;!&ndash;          <a href="#" class="btn btn-primary">Buy</a>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    <div class="col-md-4 d-flex justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="card" style="width: 18rem;">&ndash;&gt;-->
<!--&lt;!&ndash;        <img class="card-img-top" src="{{url_for('static', filename='images/product_suitcase.jpeg') }}" alt="Magic Suitcase">&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="card-body">&ndash;&gt;-->
<!--&lt;!&ndash;          <h5 class="card-title">Pack You All Can - Suitcase</h5>&ndash;&gt;-->
<!--&lt;!&ndash;          <p class="card-text">Â£200</p>&ndash;&gt;-->
<!--&lt;!&ndash;          <a href="#" class="btn btn-primary">Buy</a>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->


    {% else %}

    <p style="text-align: centre;">You are not logged in.</p>
  <br>
<!--    #request.patch returns the path portion of the URL the user is currently on-->
<!--    #this says after logging in redirect them to the current path-->
  <p style="text-align: centre;"><a href="{{ url_for('login', next=request.path) }}">Click here to log in!</a></p>

    {% endif %}

</section>

{% endblock %}

